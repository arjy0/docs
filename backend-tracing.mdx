---
title: "Backend tracing"
description: "Set up backend tracing to link with frontend sessions"
---

## Install SDK

Install the Sonarly SDK for your backend:

```bash
npm install @sonarly/node
```

## Initialize

Add Sonarly to your backend entry point:

### Express
```javascript
const Sonarly = require('@sonarly/node');

Sonarly.init({
  dsn: 'https://YOUR_KEY@sonarly.dev/YOUR_PROJECT_ID',
  tracesSampleRate: 1.0,
});

app.use(Sonarly.Handlers.requestHandler());
app.use(Sonarly.Handlers.errorHandler());
```

### NestJS
```typescript
import * as Sonarly from '@sonarly/node';

Sonarly.init({
  dsn: 'https://YOUR_KEY@sonarly.dev/YOUR_PROJECT_ID',
  tracesSampleRate: 1.0,
});
```

## Link frontend sessions

Enable CORS for the session header:

```javascript
app.use(cors({
  exposedHeaders: ['x-sonarly-session-id'],
  allowedHeaders: ['x-sonarly-session-id']
}));
```

## Verify

Backend traces should appear linked to frontend sessions in your dashboard.
