# Sonarly Documentation

> **AI-Powered Error & Incident Analysis Platform**

Transform noisy alerts into clear, actionable bug reports. Connect your observability tools, and let AI handle the triage.

---

## Glossary

### üîç Error Monitoring Triage (Sentry / Bugsnag)

Connect your error tracking platform to Sonarly. We automatically:
- **Import** your latest issues via OAuth
- **Analyze** each error with AI to generate user-friendly descriptions
- **Deduplicate** similar errors into intelligent groups
- **Classify severity** as Blocking, Annoying, or Harmless
- **Present actionable bug cards** ready for your dev team

**Supported platforms**: Sentry, Bugsnag

---

### ü§ñ AI Code Analysis & PR Generation (Claude Code)

When you click "Analyze with Claude Code" on any bug:
- A **sandboxed environment** spins up in milliseconds
- Your **GitHub repo is cloned** securely
- Claude Code **explores your codebase**, finds the root cause
- A **fix is generated** and committed to a new branch
- A **Pull Request is created** automatically with:
  - Bug summary & severity
  - Root cause analysis
  - Code changes explained
  - Testing suggestions

**No manual investigation needed** ‚Äî go from alert to PR in minutes.

---

### üö® Incident Response Agent (Datadog, PagerDuty, Grafana...)

Receive alerts from your incident management platforms via webhooks. Sonarly's Observability Agent:
- **Captures incident context** (title, severity, service, tags)
- **Queries your logs** (CloudWatch, Datadog, etc.) to gather evidence
- **Analyzes root cause** using Claude Code with full observability skills
- **Generates a detailed incident report** with timeline and suggested actions
- **Optionally creates PRs** for identified code issues

**Supported platforms**: PagerDuty, Incident.io, Datadog, Grafana, Opsgenie, SigNoz

---

### üí¨ Slack Integration

Connect Slack to receive bug reports directly in your channels:
- **OAuth connection** to your Slack workspace
- **Configurable delivery** ‚Äî receive reports via Email, Slack, or both
- **Scheduled digests** ‚Äî choose your frequency (24h, 12h, 6h, 1h)
- **Rich messages** with bug severity, occurrence count, and direct links
- **Channel selection** ‚Äî pick which channel receives alerts

---

## Quick Start

### 1. Sign Up

Visit [sonarly.dev](https://sonarly.dev) and create your account. You'll automatically get a tenant for your organization.

### 2. Connect Your Error Tracker

Choose your platform:

**Sentry** (recommended):
1. Click "Connect Sentry"
2. Authorize via OAuth
3. Select your project
4. Click "Start Analysis"

**Bugsnag**:
1. Click "Connect Bugsnag"
2. Authorize via OAuth
3. Select your project
4. Configure import settings

### 3. Connect Your Codebase (Optional)

Enable AI-powered code analysis:

1. Click "Connect GitHub"
2. Authorize the Sonarly GitHub App
3. Select which repositories to analyze

### 4. Connect Slack (Optional)

Get bug reports in Slack:

1. Go to Settings ‚Üí Integrations ‚Üí Slack
2. Click "Connect Slack"
3. Authorize and select your channel
4. Configure delivery preferences

### 5. Connect Incident Platforms (Optional)

Set up webhooks for real-time incident analysis:

1. Go to Settings ‚Üí Integrations ‚Üí Webhooks
2. Copy your webhook URL
3. Configure in your incident platform (PagerDuty, Datadog, etc.)

---

## Features

### Error Monitoring

| Feature | Description |
|---------|-------------|
| **OAuth Connection** | Secure, one-click connection to Sentry/Bugsnag |
| **Automatic Import** | Fetch your latest 100+ issues automatically |
| **AI Analysis** | GPT-powered analysis of each error |
| **Smart Deduplication** | 3-tier dedup: ID match ‚Üí message fingerprint ‚Üí semantic AI |
| **Severity Classification** | Blocking, Annoying, or Harmless |
| **Scheduled Syncs** | Auto-refresh at your chosen interval |
| **Real-time Progress** | Watch the import happen live |

### AI Code Analysis

| Feature | Description |
|---------|-------------|
| **One-Click Analysis** | Click "Analyze" on any bug to start |
| **Sandbox Execution** | Secure, isolated environments via Blaxel |
| **GitHub Integration** | Clone repos, create branches, push commits |
| **Automatic PRs** | Rich PR body with bug context and fix explanation |
| **Fast Resume** | Sandboxes resume in under 25ms after first run |
| **Cursor Integration** | Alternative: analyze in your IDE with Cursor |

### Incident Response

| Feature | Description |
|---------|-------------|
| **Webhook Receivers** | PagerDuty, Incident.io, Datadog, Grafana, Opsgenie, SigNoz |
| **Log Analysis** | Query CloudWatch, Datadog logs around incident time |
| **Root Cause Detection** | AI analyzes logs + code to find the issue |
| **Incident Timeline** | Structured report of what happened and when |
| **Signature Verification** | Secure webhook validation |

### Notifications

| Feature | Description |
|---------|-------------|
| **Slack** | Rich messages to your chosen channel |
| **Email** | Digest emails with new bugs |
| **Configurable Frequency** | 1h, 6h, 12h, or 24h digests |
| **Multiple Delivery** | Email only, Slack only, or both |

---

## How It Works

### Error Import Flow

```
Your Sentry/Bugsnag Account
           ‚Üì
   OAuth Connection
           ‚Üì
   Fetch Latest Issues
           ‚Üì
   For Each Issue:
   ‚îú‚îÄ Check if already imported ‚Üí Skip
   ‚îú‚îÄ Check exact message match ‚Üí Fast dedup
   ‚îî‚îÄ AI analysis + semantic dedup
           ‚Üì
   Deduplicated Bug Cards
           ‚Üì
   Dashboard Display
```

### Code Analysis Flow

```
Bug Card ‚Üí "Analyze with Claude Code"
           ‚Üì
   Create/Resume Sandbox (under 25ms)
           ‚Üì
   Clone GitHub Repository
           ‚Üì
   Claude Code Explores Codebase
   ‚îú‚îÄ Find error location
   ‚îú‚îÄ Understand context
   ‚îî‚îÄ Generate fix
           ‚Üì
   Create Branch + Commit
           ‚Üì
   Open Pull Request
           ‚Üì
   PR Link in Bug Card
```

### Incident Response Flow

```
Incident Alert (PagerDuty, Datadog...)
           ‚Üì
   Webhook ‚Üí Sonarly API
           ‚Üì
   Parse Incident Context
           ‚Üì
   Query Logs (CloudWatch, etc.)
           ‚Üì
   Claude Code Analyzes:
   ‚îú‚îÄ Incident timeline
   ‚îú‚îÄ Log patterns
   ‚îî‚îÄ Code correlation
           ‚Üì
   Incident Report + (Optional) PR
```

---

## Supported Integrations

### Error Tracking Platforms

| Platform | Features |
|----------|----------|
| **Sentry** | OAuth, import, dedup, webhooks |
| **Bugsnag** | OAuth, import, dedup, webhooks |

### Code Platforms

| Platform | Features |
|----------|----------|
| **GitHub** | Clone, analyze, create PRs |
| **Cursor** | IDE-based real-time analysis |

### Incident Platforms

| Platform | Webhook URL |
|----------|-------------|
| **PagerDuty** | `/api/webhooks/pagerduty?tenant_id=YOUR_ID` |
| **Incident.io** | `/api/webhooks/incidentio?tenant_id=YOUR_ID` |
| **Datadog** | `/api/webhooks/datadog?tenant_id=YOUR_ID` |
| **Grafana** | `/api/webhooks/grafana?tenant_id=YOUR_ID` |
| **Opsgenie** | `/api/webhooks/opsgenie?tenant_id=YOUR_ID` |
| **SigNoz** | `/api/webhooks/signoz?tenant_id=YOUR_ID` |

### Notifications

| Platform | Features |
|----------|----------|
| **Slack** | OAuth, channel selection, rich messages |
| **Email** | Digest emails, HTML formatting |
| **MS Teams** | Webhook integration |

---

## Severity Classification

Sonarly automatically classifies each bug by user impact:

| Severity | Description | Example |
|----------|-------------|---------|
| üî¥ **Blocking** | User cannot complete their task | Login fails, payment broken |
| üü† **Annoying** | Degraded experience but task possible | Slow loading, UI glitches |
| üü¢ **Harmless** | User unlikely to notice | Console warnings, minor logs |

---

## AI Models

| Use Case | Model |
|----------|-------|
| **Error Analysis** | Google Gemini 2.5 Flash Lite |
| **Code Analysis** | Claude Sonnet 4 |
| **Cursor Integration** | Claude (via Cursor) |

---

## Data & Security

### Token Storage
- All OAuth tokens are **encrypted at rest**
- Encryption via industry-standard Fernet (AES)
- Tokens refresh automatically before expiry

### Scopes Requested
- **Sentry**: `org:read`, `project:read`, `event:read` (read-only)
- **Bugsnag**: `read:organizations`, `read:errors`, `read:projects` (read-only)
- **GitHub**: `contents:read`, `contents:write`, `pull_requests:write`
- **Slack**: `chat:write`, `channels:read`, `groups:read`

### Data Retention
- Imported errors retained for 90 days by default
- Configurable per tenant
- User can request data deletion anytime

### Webhook Security
- All webhooks support **signature verification**
- PagerDuty: X-PagerDuty-Signature header
- Datadog: DD-WEBHOOK-SIGNATURE header
- Incident.io: webhook-signature header

---

## FAQ

**Q: How long does error import take?**
A: Typically 1-5 minutes for 100 issues. Progress shows in real-time.

**Q: How long does code analysis take?**
A: 2-5 minutes for the first run. Subsequent runs resume in under 25ms.

**Q: Will Sonarly modify my Sentry/Bugsnag data?**
A: No. We only request read permissions.

**Q: Will Sonarly auto-merge PRs?**
A: No. PRs are created for your review. You control when to merge.

**Q: Can I use multiple error tracking platforms?**
A: Yes! Connect both Sentry and Bugsnag simultaneously.

**Q: What if I don't connect GitHub?**
A: Sonarly works standalone. Code analysis is optional.

**Q: How are errors deduplicated?**
A: Three-tier approach:
1. Exact ID match (instant)
2. Error message fingerprint (fast)
3. AI semantic analysis (smart)

**Q: Can I customize the AI prompts?**
A: Contact support for enterprise customization options.

**Q: Do you support self-hosted Sentry?**
A: Yes! Set your Sentry API host in configuration.

**Q: Is there a free tier?**
A: Contact us at hello@sonarly.dev for pricing.

---

## Getting Help

- **Documentation**: [sonarly.dev/docs](https://sonarly.dev/docs)
- **Email**: hello@sonarly.dev
- **Status**: [status.sonarly.dev](https://status.sonarly.dev)

---

## Changelog

### February 2026
- ‚úÖ Slack integration with OAuth
- ‚úÖ Incident response webhooks (PagerDuty, Datadog, Grafana, Opsgenie, Incident.io, SigNoz)
- ‚úÖ Observability Agent with CloudWatch log analysis
- ‚úÖ Improved PR generation with rich body
- ‚úÖ Cursor Cloud Agents integration

### January 2026
- ‚úÖ Claude Code integration via Blaxel sandboxes
- ‚úÖ GitHub OAuth and PR creation
- ‚úÖ Sentry import and AI analysis
- ‚úÖ Smart deduplication (3-tier)
- ‚úÖ Severity classification
- ‚úÖ Scheduled syncs and email digests

---

**Sonarly** ‚Äî From Alert to Action in Minutes.

*Last Updated: February 2026*